{"ast":null,"code":"var _jsxFileName = \"/home/bharat/myprojects/myecommerce-app/react-ecommerce/src/components/product/ProductDetail.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { StarIcon } from '@heroicons/react/20/solid';\nimport { RadioGroup } from '@headlessui/react';\nimport { useDispatch, useSelector } from 'react-redux';\n// import {\n//   fetchProductByIdAsync,\n//   selectProductById,\n//   selectProductListStatus,\n// } from '../productSlice';\nimport { useParams } from 'react-router-dom';\n// import { addToCartAsync, selectItems } from '../../cart/cartSlice';\n// import { selectLoggedInUser } from '../../auth/authSlice';\nimport { useAlert } from 'react-alert';\nimport { addToCartAsync, fetchItemsByUserIdAsync } from \"../../redux/cartSlice\";\nimport { fetchProductByIdAsync } from \"../../redux/\";\nimport { Grid } from 'react-loader-spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfetchProductByIdAsync;\nexport default function ProductDetail() {\n  _s();\n  const [selectedColor, setSelectedColor] = useState();\n  const [selectedSize, setSelectedSize] = useState();\n  const items = useSelector(state => state.cart.items);\n  const product = useSelector(state => state.product.selectedProduct);\n  const dispatch = useDispatch();\n  const params = useParams();\n  const alert = useAlert();\n  const handleCart = e => {\n    e.preventDefault();\n    if (items.findIndex(item => item.product.id === product.id) < 0) {\n      console.log({\n        items,\n        product\n      });\n      const newItem = {\n        product: product.id,\n        quantity: 1\n      };\n      if (selectedColor) {\n        newItem.color = selectedColor;\n      }\n      if (selectedSize) {\n        newItem.size = selectedSize;\n      }\n      dispatch(addToCartAsync({\n        item: newItem,\n        alert\n      }));\n    } else {\n      alert.error('Item Already added');\n    }\n  };\n  useEffect(() => {\n    dispatch(fetchProductByIdAsync(params.id));\n  }, [dispatch, params.id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductDetail, \"cd8Vu0JvJn/O2JffJrBM3IN7In4=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useParams, useAlert];\n});\n_c = ProductDetail;\n;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["useState","useEffect","StarIcon","RadioGroup","useDispatch","useSelector","useParams","useAlert","addToCartAsync","fetchItemsByUserIdAsync","fetchProductByIdAsync","Grid","jsxDEV","_jsxDEV","ProductDetail","_s","selectedColor","setSelectedColor","selectedSize","setSelectedSize","items","state","cart","product","selectedProduct","dispatch","params","alert","handleCart","e","preventDefault","findIndex","item","id","console","log","newItem","quantity","color","size","error","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/bharat/myprojects/myecommerce-app/react-ecommerce/src/components/product/ProductDetail.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { StarIcon } from '@heroicons/react/20/solid';\nimport { RadioGroup } from '@headlessui/react';\nimport { useDispatch, useSelector } from 'react-redux';\n// import {\n//   fetchProductByIdAsync,\n//   selectProductById,\n//   selectProductListStatus,\n// } from '../productSlice';\nimport { useParams } from 'react-router-dom';\n// import { addToCartAsync, selectItems } from '../../cart/cartSlice';\n// import { selectLoggedInUser } from '../../auth/authSlice';\nimport { useAlert } from 'react-alert';\nimport {addToCartAsync, fetchItemsByUserIdAsync} from \"../../redux/cartSlice\";\nimport {fetchProductByIdAsync} from \"../../redux/\"\nimport { Grid } from 'react-loader-spinner';\nfetchProductByIdAsync\nexport default function ProductDetail() {\n\n  const [selectedColor, setSelectedColor] = useState();\n  const [selectedSize, setSelectedSize] = useState();\n  const items = useSelector((state) => state.cart.items);\n  const product = useSelector((state) => state.product.selectedProduct);\n  const dispatch = useDispatch();\n  const params = useParams();\n  const alert = useAlert();\n\n\n  const handleCart = (e) => {\n    e.preventDefault();\n    if (items.findIndex((item) => item.product.id === product.id) < 0) {\n      console.log({ items, product });\n      const newItem = {\n        product: product.id,\n        quantity: 1,\n      };\n      if (selectedColor) {\n        newItem.color = selectedColor;\n      }\n      if (selectedSize) {\n        newItem.size = selectedSize;\n      }\n      dispatch(addToCartAsync({item:newItem, alert}));\n    } else {\n      alert.error('Item Already added');\n    }\n  };\n\n  useEffect(() => {\n    dispatch(fetchProductByIdAsync(params.id));\n  }, [dispatch, params.id]);\n\n  return (\n    <div>\n      \n    </div>\n  )\n};\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,2BAA2B;AACpD,SAASC,UAAU,QAAQ,mBAAmB;AAC9C,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD;AACA;AACA;AACA;AACA;AACA,SAASC,SAAS,QAAQ,kBAAkB;AAC5C;AACA;AACA,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAAQC,cAAc,EAAEC,uBAAuB,QAAO,uBAAuB;AAC7E,SAAQC,qBAAqB,QAAO,cAAc;AAClD,SAASC,IAAI,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC5CH,qBAAqB;AACrB,eAAe,SAASI,aAAaA,CAAA,EAAG;EAAAC,EAAA;EAEtC,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,CAAC;EACpD,MAAM,CAACkB,YAAY,EAAEC,eAAe,CAAC,GAAGnB,QAAQ,CAAC,CAAC;EAClD,MAAMoB,KAAK,GAAGf,WAAW,CAAEgB,KAAK,IAAKA,KAAK,CAACC,IAAI,CAACF,KAAK,CAAC;EACtD,MAAMG,OAAO,GAAGlB,WAAW,CAAEgB,KAAK,IAAKA,KAAK,CAACE,OAAO,CAACC,eAAe,CAAC;EACrE,MAAMC,QAAQ,GAAGrB,WAAW,CAAC,CAAC;EAC9B,MAAMsB,MAAM,GAAGpB,SAAS,CAAC,CAAC;EAC1B,MAAMqB,KAAK,GAAGpB,QAAQ,CAAC,CAAC;EAGxB,MAAMqB,UAAU,GAAIC,CAAC,IAAK;IACxBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAIV,KAAK,CAACW,SAAS,CAAEC,IAAI,IAAKA,IAAI,CAACT,OAAO,CAACU,EAAE,KAAKV,OAAO,CAACU,EAAE,CAAC,GAAG,CAAC,EAAE;MACjEC,OAAO,CAACC,GAAG,CAAC;QAAEf,KAAK;QAAEG;MAAQ,CAAC,CAAC;MAC/B,MAAMa,OAAO,GAAG;QACdb,OAAO,EAAEA,OAAO,CAACU,EAAE;QACnBI,QAAQ,EAAE;MACZ,CAAC;MACD,IAAIrB,aAAa,EAAE;QACjBoB,OAAO,CAACE,KAAK,GAAGtB,aAAa;MAC/B;MACA,IAAIE,YAAY,EAAE;QAChBkB,OAAO,CAACG,IAAI,GAAGrB,YAAY;MAC7B;MACAO,QAAQ,CAACjB,cAAc,CAAC;QAACwB,IAAI,EAACI,OAAO;QAAET;MAAK,CAAC,CAAC,CAAC;IACjD,CAAC,MAAM;MACLA,KAAK,CAACa,KAAK,CAAC,oBAAoB,CAAC;IACnC;EACF,CAAC;EAEDvC,SAAS,CAAC,MAAM;IACdwB,QAAQ,CAACf,qBAAqB,CAACgB,MAAM,CAACO,EAAE,CAAC,CAAC;EAC5C,CAAC,EAAE,CAACR,QAAQ,EAAEC,MAAM,CAACO,EAAE,CAAC,CAAC;EAEzB,oBACEpB,OAAA;IAAA4B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEK,CAAC;AAEV;AAAC7B,EAAA,CAxCuBD,aAAa;EAAA,QAIrBT,WAAW,EACTA,WAAW,EACVD,WAAW,EACbE,SAAS,EACVC,QAAQ;AAAA;AAAAsC,EAAA,GARA/B,aAAa;AAwCpC;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}