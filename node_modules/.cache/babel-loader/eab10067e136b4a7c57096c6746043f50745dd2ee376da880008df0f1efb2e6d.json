{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { createProduct, fetchBrands, fetchCategories, fetchProductById, fetchProductsByFilters, updateProduct } from \"../services/productService\";\nexport const fetchProductByIdAsync = createAsyncThunk('product/fetchProductById', async id => {\n  const response = await fetchProductById(id);\n  // The value we return becomes the `fulfilled` action payload\n  return response.data;\n});\nexport const fetchProductsByFiltersAsync = createAsyncThunk('product/fetchProductsByFilters', async ({\n  filter,\n  sort,\n  pagination,\n  admin\n}) => {\n  const response = await fetchProductsByFilters(filter, sort, pagination, admin);\n  // The value we return becomes the `fulfilled` action payload\n  return response.data;\n});\nexport const fetchBrandsAsync = createAsyncThunk('product/fetchBrands', async () => {\n  const response = await fetchBrands();\n  // The value we return becomes the `fulfilled` action payload\n  return response.data;\n});\nexport const fetchCategoriesAsync = createAsyncThunk('product/fetchCategories', async () => {\n  const response = await fetchCategories();\n  // The value we return becomes the `fulfilled` action payload\n  return response.data;\n});\nexport const createProductAsync = createAsyncThunk('product/create', async product => {\n  const response = await createProduct(product);\n  return response.data;\n});\nexport const updateProductAsync = createAsyncThunk('product/update', async update => {\n  const response = await updateProduct(update);\n  return response.data;\n});\nexport const productSlice = createSlice({\n  name: 'product',\n  initialState: {\n    products: [],\n    brands: [],\n    categories: [],\n    status: 'idle',\n    totalItems: 0,\n    selectedProduct: null\n  },\n  reducers: {\n    clearSelectedProduct: state => {\n      state.selectedProduct = null;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchProductsByFiltersAsync.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchProductsByFiltersAsync.fulfilled, (state, action) => {\n      var _action$payload, _action$payload$data, _action$payload2, _action$payload2$data;\n      state.status = 'idle';\n      state.products = (action === null || action === void 0 ? void 0 : (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : (_action$payload$data = _action$payload.data) === null || _action$payload$data === void 0 ? void 0 : _action$payload$data.result) || [];\n      state.totalItems = action === null || action === void 0 ? void 0 : (_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : (_action$payload2$data = _action$payload2.data) === null || _action$payload2$data === void 0 ? void 0 : _action$payload2$data.totalCount;\n    }).addCase(fetchBrandsAsync.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchBrandsAsync.fulfilled, (state, action) => {\n      state.status = 'idle';\n      state.brands = action.payload.data;\n    }).addCase(fetchCategoriesAsync.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchCategoriesAsync.fulfilled, (state, action) => {\n      state.status = 'idle';\n      state.categories = action.payload.data;\n    }).addCase(fetchProductByIdAsync.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchProductByIdAsync.fulfilled, (state, action) => {\n      state.status = 'idle';\n      state.selectedProduct = action.payload.data;\n    }).addCase(createProductAsync.pending, state => {\n      state.status = 'loading';\n    }).addCase(createProductAsync.fulfilled, (state, action) => {\n      state.status = 'idle';\n      state.products.push(action.payload.data);\n    }).addCase(updateProductAsync.pending, state => {\n      state.status = 'loading';\n    }).addCase(updateProductAsync.fulfilled, (state, action) => {\n      state.status = 'idle';\n      const index = state.products.findIndex(product => product.id === action.payload.data.id);\n      state.products[index] = action.payload.data;\n      state.selectedProduct = action.payload.data;\n    });\n  }\n});\nexport const {\n  clearSelectedProduct\n} = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","createProduct","fetchBrands","fetchCategories","fetchProductById","fetchProductsByFilters","updateProduct","fetchProductByIdAsync","id","response","data","fetchProductsByFiltersAsync","filter","sort","pagination","admin","fetchBrandsAsync","fetchCategoriesAsync","createProductAsync","product","updateProductAsync","update","productSlice","name","initialState","products","brands","categories","status","totalItems","selectedProduct","reducers","clearSelectedProduct","state","extraReducers","builder","addCase","pending","fulfilled","action","_action$payload","_action$payload$data","_action$payload2","_action$payload2$data","payload","result","totalCount","push","index","findIndex","actions","reducer"],"sources":["/home/bharat/myprojects/myecommerce-app/react-ecommerce/src/redux/productSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { createProduct, fetchBrands, fetchCategories, fetchProductById, fetchProductsByFilters, updateProduct } from \"../services/productService\";\n\nexport const fetchProductByIdAsync = createAsyncThunk(\n    'product/fetchProductById',\n    async (id) => {\n      const response = await fetchProductById(id);\n      // The value we return becomes the `fulfilled` action payload\n      return response.data;\n    }\n  );\n  \n  export const fetchProductsByFiltersAsync = createAsyncThunk(\n    'product/fetchProductsByFilters',\n    async ({ filter, sort, pagination, admin }) => {\n      const response = await fetchProductsByFilters(filter, sort, pagination, admin);\n      // The value we return becomes the `fulfilled` action payload\n      return response.data;\n    }\n  );\n  \n  export const fetchBrandsAsync = createAsyncThunk(\n    'product/fetchBrands',\n    async () => {\n      const response = await fetchBrands();\n      // The value we return becomes the `fulfilled` action payload\n      return response.data;\n    }\n  );\n  export const fetchCategoriesAsync = createAsyncThunk(\n    'product/fetchCategories',\n    async () => {\n      const response = await fetchCategories();\n      // The value we return becomes the `fulfilled` action payload\n      return response.data;\n    }\n  );\n  \n  export const createProductAsync = createAsyncThunk(\n    'product/create',\n    async (product) => {\n      const response = await createProduct(product);\n      return response.data;\n    }\n  );\n  \n  export const updateProductAsync = createAsyncThunk(\n    'product/update',\n    async (update) => {\n      const response = await updateProduct(update);\n      return response.data;\n    }\n  );\n\n  \nexport const productSlice=createSlice({\n    name:'product',\n    initialState:{\n        products: [],\n        brands: [],\n        categories: [],\n        status: 'idle',\n        totalItems: 0,\n        selectedProduct: null,\n    },\n    reducers:{\n        clearSelectedProduct:(state)=>{\n            state.selectedProduct = null\n        }\n    },\n    extraReducers:(builder)=>{\n      builder\n      .addCase(fetchProductsByFiltersAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchProductsByFiltersAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.products = action?.payload?.data?.result||[];\n        state.totalItems = action?.payload?.data?.totalCount;\n      })\n      .addCase(fetchBrandsAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchBrandsAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.brands = action.payload.data;\n      })\n      .addCase(fetchCategoriesAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchCategoriesAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.categories = action.payload.data;\n      })\n      .addCase(fetchProductByIdAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchProductByIdAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.selectedProduct = action.payload.data;\n      })\n      .addCase(createProductAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(createProductAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.products.push(action.payload.data);\n      })\n      .addCase(updateProductAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(updateProductAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        const index = state.products.findIndex(\n          (product) => product.id === action.payload.data.id\n        );\n        state.products[index] = action.payload.data;\n        state.selectedProduct = action.payload.data;\n\n      });\n\n\n    \n    }\n});\nexport const { clearSelectedProduct } = productSlice.actions;\nexport default productSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}